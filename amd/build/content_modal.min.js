define("block_ari9000/content_modal",["exports","core/notification","core/modal_factory","core/modal_events","core/templates","core/ajax"],(function(_exports,_notification,_modal_factory,_modal_events,_templates,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_notification=_interopRequireDefault(_notification),_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events),_templates=_interopRequireDefault(_templates),_ajax=_interopRequireDefault(_ajax);var Selectors_ShowModalAction="[data-action='block_ari9000_show_modal']",_default={init:function(){document.addEventListener("click",(function(event){var request,bodyPromise,actionElement=event.target.closest(Selectors_ShowModalAction);actionElement&&(event.preventDefault(),request={methodname:"block_ari9000_get_iframe_url",args:{courseid:actionElement.dataset.courseid}},bodyPromise=_ajax.default.call([request])[0].then((function(data){return data.errormessage&&window.console.error(data.errormessage),_templates.default.render("block_ari9000/activity_page",data)})).then((function(element){return element+"<form></form>"})),_modal_factory.default.create({type:_modal_factory.default.types.DEFAULT,title:"",large:!0}).then((function(modal){modal.getModal().addClass("block-ari9000-content-modal"),modal.getModal().addClass("modal-xl"),modal.setBody(bodyPromise),modal.getRoot().on(_modal_events.default.hidden,(function(){modal.destroy()})),modal.show()})).fail(_notification.default.exception))}))}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=content_modal.min.js.map